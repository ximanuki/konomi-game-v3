/**
 * ã¾ã»ã†ã®ã«ã‚ - åº­ã®è¡¨ç¤ºCSS
 *
 * åº­ã®ã‚³ãƒ³ãƒ†ãƒŠã€ãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆã€é…ç½®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¹ã‚¿ã‚¤ãƒ«
 * iPhone SE2 (375x667px) æœ€é©åŒ–
 */

/* =====================================================
   åº­ã‚³ãƒ³ãƒ†ãƒŠ - å…¨ä½“ã‚’åŒ…ã‚€è¦ç´ 
   ===================================================== */
.garden-container {
  position: relative;
  width: 100%;
  height: 100%;  /* è¦ªè¦ç´ (#main-content)ã®é«˜ã•ã‚’ä½¿ç”¨ */
  min-height: 400px;  /* æœ€ä½é«˜ã•ã‚’ç¢ºä¿ */
  overflow: hidden;
  background-color: var(--color-background);
}

/* =====================================================
   åº­ãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆ - ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒ»ã‚ºãƒ¼ãƒ å¯¾è±¡
   ===================================================== */
.garden-view {
  position: absolute;
  width: 1000px;  /* åº­ã®å®Ÿã‚µã‚¤ã‚ºï¼ˆTECH_SPECæº–æ‹ ï¼‰ */
  height: 800px;
  transform-origin: 0 0;
  will-change: transform;
  transition: transform var(--transition-fast);
}

/* =====================================================
   èƒŒæ™¯ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ - æ™‚é–“å¸¯ã§å¤‰åŒ–
   ===================================================== */

/* ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼ˆæ˜¼ï¼‰ */
.garden-view {
  background: linear-gradient(
    180deg,
    #87CEEB 0%,      /* ç©ºè‰² */
    #B5E7FF 30%,     /* æ˜ã‚‹ã„ç©º */
    #A8D9AB 50%,     /* åœ°å¹³ç·šä»˜è¿‘ã®ç·‘ */
    var(--color-primary) 70%,  /* è‰åŸã®ç·‘ */
    var(--color-primary-dark) 100%  /* åœ°é¢ */
  );
}

/* æœ (6:00-10:00) */
.garden-view.time-morning {
  background: linear-gradient(
    180deg,
    #FFE4C4 0%,      /* ã‚ªãƒ¬ãƒ³ã‚¸ãŒã‹ã£ãŸæœç„¼ã‘ */
    #FFD4A0 20%,
    #B5E7FF 50%,     /* æ˜ã‚‹ããªã‚‹ç©º */
    #A8D9AB 70%,
    var(--color-primary) 100%
  );
}

/* æ˜¼ (10:00-16:00) */
.garden-view.time-afternoon {
  background: linear-gradient(
    180deg,
    #87CEEB 0%,
    #B5E7FF 30%,
    #A8D9AB 50%,
    var(--color-primary) 70%,
    var(--color-primary-dark) 100%
  );
}

/* å¤•æ–¹ (16:00-20:00) */
.garden-view.time-evening {
  background: linear-gradient(
    180deg,
    #FF8C69 0%,      /* å¤•ç„¼ã‘ã‚ªãƒ¬ãƒ³ã‚¸ */
    #FFB088 20%,
    #DDA0DD 40%,     /* ç´«ãŒã‹ã£ãŸç©º */
    #9B7BB8 60%,
    var(--color-primary-dark) 80%,
    #4A6741 100%     /* æš—ããªã‚‹åœ°é¢ */
  );
}

/* å¤œ (20:00-6:00) */
.garden-view.time-night {
  background: linear-gradient(
    180deg,
    #1a1a2e 0%,      /* å¤œç©º */
    #2d2d44 30%,
    #3d3d5c 50%,
    #2d4a2d 70%,     /* æš—ã„è‰åŸ */
    #1d3a1d 100%
  );
}

/* =====================================================
   ã‚°ãƒªãƒƒãƒ‰ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ - ãƒ‡ãƒãƒƒã‚°ç”¨ï¼ˆéè¡¨ç¤ºãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
   ===================================================== */
.garden-grid {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  opacity: 0;
  z-index: 1;
  background-image:
    linear-gradient(to right, rgba(0,0,0,0.1) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(0,0,0,0.1) 1px, transparent 1px);
  background-size: 50px 50px;  /* TECH_SPEC: 50pxã‚°ãƒªãƒƒãƒ‰ */
  transition: opacity var(--transition-normal);
}

/* ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã§ã‚°ãƒªãƒƒãƒ‰è¡¨ç¤º */
.garden-view.debug .garden-grid {
  opacity: 1;
}

/* =====================================================
   é…ç½®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆåŸºæœ¬ã‚¹ã‚¿ã‚¤ãƒ«
   ===================================================== */
.garden-object {
  position: absolute;
  transform: translate(-50%, -100%);  /* ä¸­å¤®ä¸‹åŸºæº– */
  z-index: var(--z-objects);
  cursor: pointer;
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
  transition: transform var(--transition-fast);
}

.garden-object:active {
  transform: translate(-50%, -100%) scale(0.95);
}

/* ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå†…ã®ç”»åƒ */
.garden-object img {
  display: block;
  max-width: none;
  pointer-events: none;
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
}

/* =====================================================
   æ¤ç‰©ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
   ===================================================== */
.garden-object.plant {
  z-index: var(--z-objects);
}

/* æ¤ç‰©ã®æˆé•·ã‚¹ãƒ†ãƒ¼ã‚¸ */
.garden-object.plant.stage-0 img {
  /* ç¨®ï¼šå°ã•ãè¡¨ç¤º */
  width: 24px;
  height: 24px;
}

.garden-object.plant.stage-1 img {
  /* èŠ½ï¼šå°‘ã—å¤§ãã */
  width: 32px;
  height: 40px;
}

.garden-object.plant.stage-2 img {
  /* ã¤ã¼ã¿ï¼šä¸­ã‚µã‚¤ã‚º */
  width: 48px;
  height: 56px;
}

.garden-object.plant.stage-3 img {
  /* å®Œæˆï¼šãƒ•ãƒ«ã‚µã‚¤ã‚º */
  width: 64px;
  height: 72px;
}

/* æ°´ãŒå¿…è¦ãªæ¤ç‰© */
.garden-object.plant.needs-water {
  animation: shake 0.5s ease-in-out infinite;
}

.garden-object.plant.needs-water::after {
  content: 'ğŸ’§';
  position: absolute;
  top: -16px;
  right: -8px;
  font-size: 16px;
  animation: bounce 1s ease-in-out infinite;
}

/* æˆé•·ä¸­ã®æ¤ç‰© */
.garden-object.plant.growing {
  animation: grow 0.6s var(--transition-bounce);
}

/* =====================================================
   ä½äººã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
   ===================================================== */
.garden-object.resident {
  z-index: var(--z-residents);
}

.garden-object.resident img {
  width: 48px;
  height: 48px;
}

/* ä½äººã®ã‚¢ã‚¤ãƒ‰ãƒ«çŠ¶æ…‹ï¼ˆãµã‚ãµã‚æµ®éŠï¼‰ */
.garden-object.resident.idle {
  animation: float 3s ease-in-out infinite;
}

/* ä½äººãŒå¹¸ã›ãªæ™‚ */
.garden-object.resident.happy::after {
  content: 'â™¡';
  position: absolute;
  top: -12px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 14px;
  color: var(--color-accent);
  animation: float 1.5s ease-in-out infinite;
}

/* ä½äººãŒçœ ã£ã¦ã„ã‚‹æ™‚ï¼ˆå¤œï¼‰ */
.garden-object.resident.sleeping {
  opacity: 0.7;
}

.garden-object.resident.sleeping::after {
  content: 'ğŸ’¤';
  position: absolute;
  top: -16px;
  right: -8px;
  font-size: 12px;
  animation: float 2s ease-in-out infinite;
}

/* ãªã‹ã‚ˆã—åº¦ãƒ¬ãƒ™ãƒ«è¡¨ç¤º */
.garden-object.resident .friendship-badge {
  position: absolute;
  bottom: -8px;
  left: 50%;
  transform: translateX(-50%);
  background: var(--color-white);
  border-radius: var(--radius-full);
  padding: 2px 6px;
  font-size: var(--font-size-xs);
  box-shadow: var(--shadow-sm);
}

/* =====================================================
   å»ºç‰©ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
   ===================================================== */
.garden-object.building {
  z-index: calc(var(--z-objects) - 1);  /* æ¤ç‰©ãƒ»ä½äººã‚ˆã‚Šå¾Œã‚ */
}

.garden-object.building img {
  width: 80px;
  height: 80px;
}

/* å¤§ããªå»ºç‰© */
.garden-object.building.large img {
  width: 120px;
  height: 120px;
}

/* å»ºç‰©ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆï¼ˆã‚¿ãƒƒãƒ—å¯èƒ½ã‚’ç¤ºã™ï¼‰ */
.garden-object.building.interactive::before {
  content: '';
  position: absolute;
  top: -4px;
  left: -4px;
  right: -4px;
  bottom: -4px;
  border: 2px dashed var(--color-tertiary);
  border-radius: var(--radius-md);
  opacity: 0;
  animation: sparkle 2s ease-in-out infinite;
}

/* =====================================================
   ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
   ===================================================== */
.garden-object.effect {
  z-index: var(--z-effects);
  pointer-events: none;  /* ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã¯ã‚¿ãƒƒãƒ—ä¸å¯ */
}

/* ã‚­ãƒ©ã‚­ãƒ©ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ */
.garden-object.effect.sparkle {
  animation: sparkle 1s ease-in-out forwards;
}

/* æˆé•·ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ */
.garden-object.effect.growth-burst {
  animation: grow 0.8s var(--transition-bounce) forwards;
}

/* =====================================================
   ã‚¿ãƒƒãƒ—ç¯„å›²æ‹¡å¼µï¼ˆå°ã•ã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç”¨ï¼‰
   ===================================================== */
.garden-object.small::before {
  content: '';
  position: absolute;
  top: -10px;
  left: -10px;
  right: -10px;
  bottom: -10px;
}

/* =====================================================
   é¸æŠçŠ¶æ…‹
   ===================================================== */
.garden-object.selected {
  z-index: calc(var(--z-effects) + 1);
}

.garden-object.selected::before {
  content: '';
  position: absolute;
  top: -8px;
  left: -8px;
  right: -8px;
  bottom: -8px;
  border: 3px solid var(--color-primary);
  border-radius: var(--radius-lg);
  animation: sparkle 1s ease-in-out infinite;
}

/* =====================================================
   ãƒ‰ãƒ©ãƒƒã‚°ä¸­ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
   ===================================================== */
.garden-object.dragging {
  opacity: 0.8;
  z-index: var(--z-modal);
  transform: translate(-50%, -100%) scale(1.1);
  box-shadow: var(--shadow-lg);
}

/* =====================================================
   é…ç½®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
   ===================================================== */
.garden-object.preview {
  opacity: 0.5;
  pointer-events: none;
}

.garden-object.preview.valid {
  opacity: 0.7;
}

.garden-object.preview.invalid {
  opacity: 0.3;
  filter: grayscale(1);
}

/* =====================================================
   iPhone SE2 æœ€é©åŒ– (375x667px)
   ===================================================== */
@media screen and (max-width: 375px) and (max-height: 667px) {
  /* SE2ã§ã¯å°‘ã—å°ã•ã‚ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ */
  .garden-object.plant.stage-3 img {
    width: 56px;
    height: 64px;
  }

  .garden-object.resident img {
    width: 44px;
    height: 44px;
  }

  .garden-object.building img {
    width: 72px;
    height: 72px;
  }
}
